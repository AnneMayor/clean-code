# Clean Code - 5. 형식 맞추기

Created: May 21, 2022
Created by: Anne Lee
Tags: Clean Code

## 코드 형식을 맞추는 목적

- 코드 형식은 두말할 필요도 없이 **중요!** 팀에서 합의하에 코드 형식을 맞춰야 한다. → 코드 스타일 혹은 컨벤션을 잘 맞춰야 한다는 의미같은데 이 경우는 코드 스타일에 더 가까워보임.
- 일반적으로 사이드 프로젝트에서 개발자들은 Google 혹은 Naver 코드 스타일 형식을 주로 사용한다고 한다.
- 각 프레임워크별 클래스 당 최소/최대 라인 수를 조사한 결과, 200줄만으로도 대규모 시스템을 구축할 수 있다.

## 주의할 점

- 코드를 작성할 적에는 ***하나의 신문 기사를 작성한다는 마인드***로 접근할 것!
- 이름을 지을 때는 해당 모듈을 올바르게 설명하며 되도록 간결하게!
- 개념은 빈 행으로 구분되어야 한다. 하나로 작성할 경우 정말 알아보기 힘들다…라인 100줄만 넘어가도 어질할 것으로 예상한다.

```kotlin
// 빈 행 추가 코드
package com.clean.code.chapter5.formatter

data class Person(name: String, age: Int)

fun main(args: Array<String>) {
	println("hello Kotlin")
}

// 빈 행 미추가 코드
package com.clean.code.chapter5.formatter
data class Person(name: String, age: Int)
fun main(args: Array<String>) {
	println("hello Kotlin")
}
```

- 서로 밀접한 코드 행은 세로로 가까이 놓아야 한다. 근데 이건 나에게 있어선 의례 당연하게 적용하는 규칙이었는데 이렇게 이야기하고보니 신기하군…ㅎㅎㅎ

```kotlin
class NewsPaper {
	val title
	val author
	val content
}
```

- 서로 밀접한 개념은 가까이 둬야 한다. 타당한 근거가 없다면 한 파일에 넣는 방식으로 가야하기에 `protected` 변수는 피해야한다.
    
    <img width="299" alt="java_access_control" src="https://user-images.githubusercontent.com/15176192/169673901-f0a5c1f8-665b-4d7a-ba61-e7b9bbe24b66.png">
    
- 변수 선언 위치는 로컬 변수는 로직 시작 전, 인스턴스 변수는 언어에 따라 익숙한 위치(C++: 클래스 마지막, Java: 클래스 맨 처음)에!
- 종속 함수에서 호출하는 함수가 먼저, 그 다음으로 호출당한 함수를 작성하는게 가독성에 더 좋다!
- 가로 행 길이는 짧을수록 좋음. 되도록이면 120자 넘어가지 않도록 한다. 이런건 보통 lint나 여러 스타일 체커 라이브러리를 사용하면 되긴 하더라!
- 이외에도 연산자 우선순위나 매개변수 구별 등을 할 때 공백(스페이스)을 둔다고 한다. 특히, 연산자 우선순위에서 **은 `a*b`, +/- 는 `a +(-) b`* 이렇게 표현하기를 바라지만 코드 형식 자동화 도구에서는 이를 고려하지 않는다고 함.
- 가로 정렬은 개발자들에게 혼란을 줄 수 있음. 띄어쓰기를 통한 강조부분을 잘못 주게 되어 처음 딱 읽으면서 파악하기가 쉽지 않음. 만약 정렬이 필요할 정도로 길다면 이는 **클래스 설계를 다시 해야함. 하나의 클래스가 너무 많은 책임을 가지고 있을 확률이 큼.**
- 아무리 짧은 줄이라도 들여쓰기는 결코 무시하면 안된다. 나도 이런 유혹이 많은데 주의해야겠다!
- 프로젝트를 시작하기 전, 팀과 함께 컨벤션과 코드 스타일에 대해 논의해야한다. 각자가 가진 자신만의 스타일이 있기에 서로 합의하에 공통의 규칙을 만들어야 소프트웨어 일관성을 유지할 수 있다.